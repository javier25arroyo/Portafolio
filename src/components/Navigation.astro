---
---

<!-- üé® Navegaci√≥n Modernizada -->
<nav id="main-nav" class="navbar fixed top-0 left-0 right-0 z-40 backdrop-blur-xl border-b transition-all duration-500 ease-out glass-dark">
  <div class="container mx-auto px-6 lg:px-8">
    <div class="relative flex items-center justify-between h-16">
      <!-- Logo/Brand Mejorado -->
      <div class="flex-1 flex items-center">
        <a href="#home" class="logo group relative overflow-hidden" data-track="nav-logo">
          <span class="gradient-text relative z-10 text-xl font-bold transition-all duration-300 hover:scale-110">JA</span>
          <div class="absolute inset-0 rounded-lg scale-0 group-hover:scale-100 transition-transform duration-300 -m-2" 
               style="background: var(--gradient-primary); opacity: 0.1;"></div>
        </a>
      </div>
      
      <!-- Navigation Links Mejorados -->
      <div class="hidden md:flex flex-1 items-center justify-center space-x-1">
        <a href="#home" class="nav-link group relative" data-text="Home" data-track="nav-home">
          <span class="nav-text">Home</span>
          <div class="nav-indicator"></div>
        </a>
        <a href="#about" class="nav-link group relative" data-text="Skills" data-track="nav-skills">
          <span class="nav-text">Skills</span>
          <div class="nav-indicator"></div>
        </a>
        <a href="#projects" class="nav-link group relative" data-text="Projects" data-track="nav-projects">
          <span class="nav-text">Projects</span>
          <div class="nav-indicator"></div>
        </a>
        <a href="#contact" class="nav-link group relative" data-text="Contact" data-track="nav-contact">
          <span class="nav-text">Contact</span>
          <div class="nav-indicator"></div>
        </a>
      </div>
      
      <!-- Language Switch + Mobile Menu Button -->
      <div class="flex-1 flex justify-end items-center gap-4">
        <!-- Language Switch -->
        <div class="language-switch flex items-center gap-2">
          <span class="lang-label text-xs font-medium transition-colors duration-300" data-lang="en">EN</span>
          <button id="lang-toggle" class="lang-toggle relative w-12 h-6 rounded-full transition-all duration-300" 
                  aria-label="Toggle language" data-track="nav-lang-toggle">
            <span class="lang-slider absolute top-1 left-1 w-4 h-4 rounded-full transition-all duration-300"></span>
          </button>
          <span class="lang-label text-xs font-medium transition-colors duration-300" data-lang="es">ES</span>
        </div>
        
        <!-- Mobile Menu Button Mejorado -->
        <div class="md:hidden">
          <button id="mobile-menu-btn" class="mobile-menu-btn group relative p-2 rounded-lg transition-all duration-300 hover:bg-white/5" 
                  aria-label="Toggle menu" data-track="nav-mobile-toggle">
            <div class="hamburger">
              <span class="hamburger-line"></span>
              <span class="hamburger-line"></span>
              <span class="hamburger-line"></span>
            </div>
          </button>
        </div>
      </div>
    </div>
    
    <!-- Progress indicator mejorado -->
    <div class="scroll-progress absolute bottom-0 left-0 h-0.5 transition-all duration-300 ease-out origin-left scale-x-0" 
         style="background: var(--gradient-primary);"></div>
  </div>
  
  <!-- Mobile Menu -->
  <div id="mobile-menu" class="mobile-menu absolute top-full left-0 right-0 overflow-hidden transition-all duration-400 ease-out max-h-0 opacity-0">
    <div class="mobile-menu-content backdrop-blur-xl border-b m-4 rounded-2xl shadow-xl" style="background: rgba(26, 26, 35, 0.95); border-color: var(--border-light);">
      <div class="p-6 space-y-2">
        <a href="#home" class="mobile-nav-link block">
          <span class="mobile-nav-text">Home</span>
        </a>
        <a href="#about" class="mobile-nav-link block">
          <span class="mobile-nav-text">Skills</span>
        </a>
        <a href="#projects" class="mobile-nav-link block">
          <span class="mobile-nav-text">Projects</span>
        </a>
        <a href="#contact" class="mobile-nav-link block">
          <span class="mobile-nav-text">Contact</span>
        </a>
      </div>
    </div>
  </div>
</nav>

<style>
  /* Variables CSS para mejor consistencia */
  :root {
    --nav-timing: cubic-bezier(0.25, 0.46, 0.45, 0.94);
    --nav-duration: 0.3s;
    --nav-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
    --emerald-glow: rgba(16, 185, 129, 0.3);
    --blue-glow: rgba(59, 130, 246, 0.3);
  }

  /* Inicializaci√≥n del navbar con animaci√≥n suave */
  .navbar {
    transform: translateY(-100%);
    animation: navbar-enter 0.8s var(--nav-timing) forwards;
    animation-delay: 0.2s;
    will-change: transform;
  }

  @keyframes navbar-enter {
    to {
      transform: translateY(0);
    }
  }

  /* Estados del navbar seg√∫n scroll */
  .navbar.scrolled {
    background: rgba(26, 26, 35, 0.95) !important;
    border-color: var(--border-medium) !important;
    box-shadow: 0 8px 32px var(--shadow-medium);
  }

  .navbar.hidden {
    transform: translateY(-100%);
    transition: transform 0.4s var(--nav-timing);
  }

  /* Logo con animaci√≥n mejorada */
  .logo {
    opacity: 0;
    transform: scale(0.8) rotate(-5deg);
    animation: logo-enter 0.6s var(--nav-spring) forwards;
    animation-delay: 0.5s;
    color: var(--text-primary);
    transition: all var(--nav-duration) var(--nav-timing);
  }

  @keyframes logo-enter {
    to {
      opacity: 1;
      transform: scale(1) rotate(0deg);
    }
  }

  .logo:hover {
    transform: scale(1.05) rotate(2deg);
    filter: drop-shadow(0 0 8px rgba(99, 102, 241, 0.4));
  }

  /* Sistema de navegaci√≥n moderno */
  .nav-link {
    position: relative;
    padding: 0.75rem 1.25rem;
    color: var(--text-secondary);
    font-weight: 500;
    font-size: 0.9rem;
    border-radius: 0.75rem;
    transition: all var(--nav-duration) var(--nav-timing);
    opacity: 0;
    transform: translateY(-20px);
    animation: nav-link-enter 0.5s var(--nav-timing) forwards;
    overflow: hidden;
  }

  .nav-link:nth-child(1) { animation-delay: 0.7s; }
  .nav-link:nth-child(2) { animation-delay: 0.8s; }
  .nav-link:nth-child(3) { animation-delay: 0.9s; }
  .nav-link:nth-child(4) { animation-delay: 1.0s; }

  @keyframes nav-link-enter {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* Efectos hover modernos */
  .nav-link:hover {
    color: var(--color-secondary);
    background: rgba(16, 185, 129, 0.15);
    transform: translateY(-2px);
    box-shadow: 0 4px 20px rgba(16, 185, 129, 0.2);
  }

  /* Indicador de link activo */
  .nav-indicator {
    position: absolute;
    bottom: 0;
    left: 50%;
    width: 0;
    height: 2px;
    background: var(--gradient-primary);
    border-radius: 1px;
    transform: translateX(-50%);
    transition: width var(--nav-duration) var(--nav-timing);
  }

  .nav-link:hover .nav-indicator,
  .nav-link.active .nav-indicator {
    width: 80%;
  }

  /* Animaci√≥n de texto mejorada */
  .nav-text {
    position: relative;
    display: inline-block;
    transition: transform var(--nav-duration) var(--nav-timing);
  }

  .nav-link:hover .nav-text {
    transform: scale(1.05);
  }

  /* Efecto ripple en hover */
  .nav-link::before {
    content: '';
    position: absolute;
    top: 50%;
    left: 50%;
    width: 0;
    height: 0;
    background: radial-gradient(circle, rgba(16, 185, 129, 0.2) 0%, transparent 70%);
    border-radius: 50%;
    transform: translate(-50%, -50%);
    transition: all 0.6s ease-out;
    opacity: 0;
  }

  .nav-link:hover::before {
    width: 200px;
    height: 200px;
    opacity: 1;
  }

  /* Link activo */
  .nav-link.active {
    color: #10b981;
    background: rgba(16, 185, 129, 0.12);
    box-shadow: 0 2px 12px rgba(16, 185, 129, 0.2);
  }

  /* Hamburger menu animado */
  .mobile-menu-btn {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(10px);
    transition: all var(--nav-duration) var(--nav-timing);
    opacity: 0;
    transform: scale(0.8);
    animation: mobile-btn-enter 0.5s var(--nav-timing) forwards;
    animation-delay: 1s;
  }

  .dark .mobile-menu-btn {
    background: rgba(0, 0, 0, 0.2);
    border-color: rgba(255, 255, 255, 0.1);
  }

  @keyframes mobile-btn-enter {
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  .mobile-menu-btn:hover {
    background: rgba(16, 185, 129, 0.15);
    border-color: rgba(16, 185, 129, 0.3);
    transform: scale(1.05);
  }

  /* Hamburger lines */
  .hamburger {
    width: 24px;
    height: 18px;
    position: relative;
  }

  .hamburger-line {
    position: absolute;
    left: 0;
    width: 100%;
    height: 2px;
    background: #64748b;
    border-radius: 1px;
    transition: all 0.3s var(--nav-timing);
  }

  .dark .hamburger-line {
    background: #94a3b8;
  }

  .hamburger-line:nth-child(1) { top: 0; }
  .hamburger-line:nth-child(2) { top: 50%; transform: translateY(-50%); }
  .hamburger-line:nth-child(3) { bottom: 0; }

  /* Animaci√≥n del hamburger al abrir */
  .mobile-menu-btn.active .hamburger-line:nth-child(1) {
    top: 50%;
    transform: translateY(-50%) rotate(45deg);
  }

  .mobile-menu-btn.active .hamburger-line:nth-child(2) {
    opacity: 0;
    transform: translateY(-50%) scale(0);
  }

  .mobile-menu-btn.active .hamburger-line:nth-child(3) {
    bottom: 50%;
    transform: translateY(50%) rotate(-45deg);
  }

  /* Men√∫ m√≥vil mejorado */
  .mobile-menu {
    backdrop-filter: blur(20px);
    transition: all 0.4s var(--nav-timing);
  }

  .mobile-menu.show {
    max-height: 400px;
    opacity: 1;
  }

  .mobile-menu-content {
    transform: translateY(-20px);
    transition: transform 0.4s var(--nav-timing) 0.1s;
  }

  .mobile-menu.show .mobile-menu-content {
    transform: translateY(0);
  }

  /* Links del men√∫ m√≥vil */
  .mobile-nav-link {
    position: relative;
    padding: 1rem 1.5rem;
    color: #64748b;
    font-weight: 500;
    border-radius: 0.75rem;
    transition: all var(--nav-duration) var(--nav-timing);
    overflow: hidden;
  }

  .dark .mobile-nav-link {
    color: #94a3b8;
  }

  .mobile-nav-link:hover {
    color: #10b981;
    background: rgba(16, 185, 129, 0.1);
    transform: translateX(8px);
  }

  .mobile-nav-text {
    position: relative;
    z-index: 1;
  }

  /* Progreso de scroll */
  .scroll-progress {
    transition: transform 0.3s ease-out;
  }

  /* Responsividad mejorada */
  @media (max-width: 768px) {
    .navbar .container {
      padding-left: 1rem;
      padding-right: 1rem;
    }
  }

  @media (min-width: 1024px) {
    .nav-link {
      padding: 0.875rem 1.5rem;
      font-size: 0.95rem;
    }
  }

  /* Accesibilidad - reducir animaciones */
  @media (prefers-reduced-motion: reduce) {
    .navbar,
    .logo,
    .nav-link,
    .mobile-menu-btn {
      animation: none;
      transition-duration: 0.1s;
    }
    
    .navbar {
      transform: none;
      opacity: 1;
    }
    
    .logo,
    .nav-link,
    .mobile-menu-btn {
      opacity: 1;
      transform: none;
    }
    
    .nav-link:hover {
      transform: none;
    }
  }

  /* Estados focus para accesibilidad */
  .nav-link:focus-visible,
  .mobile-menu-btn:focus-visible {
    outline: 2px solid #10b981;
    outline-offset: 2px;
  }

  /* Optimizaci√≥n para rendimiento */
  .navbar,
  .nav-link,
  .mobile-menu {
    will-change: transform;
  }

  .nav-link:not(:hover) {
    will-change: auto;
  }

  /* Language Switch Styles */
  .language-switch {
    opacity: 0;
    transform: translateY(-10px);
    animation: lang-switch-enter 0.5s var(--nav-timing) forwards;
    animation-delay: 1.1s;
  }

  @keyframes lang-switch-enter {
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .lang-label {
    color: var(--text-tertiary);
    transition: color 0.3s ease, transform 0.3s ease;
    cursor: pointer;
    user-select: none;
  }

  .lang-label.active {
    color: var(--color-secondary);
    font-weight: 600;
    transform: scale(1.1);
  }

  .lang-toggle {
    background: rgba(255, 255, 255, 0.1);
    border: 1px solid rgba(255, 255, 255, 0.2);
    cursor: pointer;
    backdrop-filter: blur(10px);
  }

  .lang-toggle:hover {
    background: rgba(16, 185, 129, 0.15);
    border-color: rgba(16, 185, 129, 0.3);
  }

  .lang-slider {
    background: var(--color-secondary);
    box-shadow: 0 2px 8px rgba(16, 185, 129, 0.4);
  }

  .lang-toggle[data-lang="es"] .lang-slider,
  .lang-toggle.es .lang-slider {
    transform: translateX(24px);
  }

  .lang-toggle:focus-visible {
    outline: 2px solid #10b981;
    outline-offset: 2px;
  }
</style>

<script>
  // @ts-nocheck
  (() => {
    if (window.navbarInitialized) return;
    window.navbarInitialized = true;

    class NavbarController {
      constructor() {
        this.navbar = null;
        this.mobileMenuBtn = null;
        this.mobileMenu = null;
        this.scrollProgress = null;
        this.navLinks = null;
        this.langToggle = null;
        this.langLabels = null;
        this.currentLang = 'en';
        this.isMenuOpen = false;
        this.lastScrollY = 0;
        this.scrollDirection = 'up';
        this.scrollTimeout = null;
        this.resizeObserver = null;

        this.init();
      }

      async init() {
        if (document.readyState === 'loading') {
          await new Promise((resolve) => {
            document.addEventListener('DOMContentLoaded', resolve, { once: true });
          });
        }

        this.setupElements();
        if (!this.navbar) return;

        this.setupEventListeners();
        this.setupIntersectionObserver();
        this.setupKeyboardNavigation();
        this.setupAccessibility();
        this.setupLanguageSwitch();
      }

      setupElements() {
        this.navbar = document.getElementById('main-nav');
        this.mobileMenuBtn = document.getElementById('mobile-menu-btn');
        this.mobileMenu = document.getElementById('mobile-menu');
        this.scrollProgress = this.navbar ? this.navbar.querySelector('.scroll-progress') : null;
        this.navLinks = document.querySelectorAll('.nav-link, .mobile-nav-link');

        if (!this.navbar) {
          console.error('‚ùå Navbar element not found');
        }
      }

      setupEventListeners() {
        this.mobileMenuBtn?.addEventListener('click', (e) => {
          e.preventDefault();
          this.toggleMobileMenu();
        });

        this.navLinks?.forEach((link) => {
          link.addEventListener('click', (e) => this.handleNavClick(e, link));
        });

        let ticking = false;
        window.addEventListener(
          'scroll',
          () => {
            if (ticking) return;
            ticking = true;
            requestAnimationFrame(() => {
              this.handleScroll();
              ticking = false;
            });
          },
          { passive: true }
        );

        this.setupResizeObserver();

        window.addEventListener('themeChanged', () => {
          this.handleThemeChange();
        });
      }

      setupResizeObserver() {
        this.resizeObserver = new ResizeObserver((entries) => {
          for (const entry of entries) {
            if (entry.target === document.body) {
              this.handleResize();
            }
          }
        });

        this.resizeObserver.observe(document.body);
      }

      handleNavClick(e, link) {
        e.preventDefault();

        const href = link.getAttribute('href');
        if (!href) return;

        this.addClickEffect(link);

        const target = document.querySelector(href);
        if (!(target instanceof HTMLElement)) return;

        const offset = 80;
        const targetPosition = target.offsetTop - offset;

        window.scrollTo({
          top: targetPosition,
          behavior: 'smooth',
        });

        if (this.isMenuOpen) {
          setTimeout(() => this.toggleMobileMenu(), 200);
        }

        this.triggerHapticFeedback();
      }

      addClickEffect(element) {
        element.style.transform = 'scale(0.95)';
        element.style.transition = 'transform 0.1s ease-out';

        setTimeout(() => {
          element.style.transform = '';
          element.style.transition = '';
        }, 150);
      }

      triggerHapticFeedback() {
        if ('vibrate' in navigator) {
          navigator.vibrate(10);
        }
      }

      toggleMobileMenu() {
        if (!this.mobileMenu || !this.mobileMenuBtn) return;

        this.isMenuOpen = !this.isMenuOpen;

        this.mobileMenuBtn.classList.toggle('active', this.isMenuOpen);

        if (this.isMenuOpen) {
          this.mobileMenu.classList.add('show');
          this.mobileMenu.setAttribute('aria-hidden', 'false');
          this.mobileMenuBtn.setAttribute('aria-expanded', 'true');

          const firstLink = this.mobileMenu.querySelector('.mobile-nav-link');
          setTimeout(() => {
            if (firstLink instanceof HTMLElement) firstLink.focus();
          }, 300);
        } else {
          this.mobileMenu.classList.remove('show');
          this.mobileMenu.setAttribute('aria-hidden', 'true');
          this.mobileMenuBtn.setAttribute('aria-expanded', 'false');
        }

        this.triggerHapticFeedback();
      }

      handleScroll() {
        if (!this.navbar || !this.scrollProgress) return;

        const currentScrollY = window.scrollY;
        const documentHeight = document.documentElement.scrollHeight - window.innerHeight;
        const progress = documentHeight > 0 ? Math.min(currentScrollY / documentHeight, 1) : 0;

        this.scrollDirection = currentScrollY > this.lastScrollY ? 'down' : 'up';
        this.scrollProgress.style.transform = `scaleX(${progress})`;

        if (currentScrollY > 50) {
          this.navbar.classList.add('scrolled');
        } else {
          this.navbar.classList.remove('scrolled');
        }

        this.handleNavbarVisibility(currentScrollY);
        this.lastScrollY = currentScrollY;
      }

      handleNavbarVisibility(scrollY) {
        if (!this.navbar) return;

        const threshold = 200;
        const isScrollingDown = this.scrollDirection === 'down';
        const shouldHide = isScrollingDown && scrollY > threshold && !this.isMenuOpen;
        this.navbar.classList.toggle('hidden', shouldHide);
      }

      setupIntersectionObserver() {
        const observerOptions = {
          threshold: [0.1, 0.5, 0.9],
          rootMargin: '-80px 0px -80px 0px',
        };

        const observer = new IntersectionObserver((entries) => {
          entries.forEach((entry) => {
            if (!entry.isIntersecting) return;
            const id = entry.target.getAttribute('id');
            if (id) this.highlightNavLink(id);
          });
        }, observerOptions);

        document.querySelectorAll('section[id]').forEach((section) => {
          observer.observe(section);
        });
      }

      highlightNavLink(sectionId) {
        this.navLinks?.forEach((link) => {
          const isActive = link.getAttribute('href') === `#${sectionId}`;
          link.classList.toggle('active', isActive);
        });
      }

      setupKeyboardNavigation() {
        document.addEventListener('keydown', (e) => {
          switch (e.key) {
            case 'Escape':
              if (this.isMenuOpen) this.toggleMobileMenu();
              break;
            case 'Tab':
              document.body.classList.add('keyboard-navigation');
              break;
            default:
              if (e.altKey && e.key >= '1' && e.key <= '4') {
                e.preventDefault();
                const index = parseInt(e.key, 10) - 1;
                const links = Array.from(this.navLinks || []);
                const targetLink = links.filter((link) => !link.classList.contains('mobile-nav-link'))[index];
                if (targetLink instanceof HTMLElement) targetLink.click();
              }
          }
        });

        document.addEventListener('mousedown', () => {
          document.body.classList.remove('keyboard-navigation');
        });
      }

      setupAccessibility() {
        this.mobileMenuBtn?.setAttribute('aria-label', 'Toggle navigation menu');
        this.mobileMenuBtn?.setAttribute('aria-expanded', 'false');
        this.mobileMenu?.setAttribute('aria-hidden', 'true');
        this.createSkipLink();
      }

      createSkipLink() {
        const skipLink = document.createElement('a');
        skipLink.href = '#main-content';
        skipLink.textContent = 'Skip to main content';
        skipLink.className =
          'skip-link sr-only focus:not-sr-only focus:absolute focus:top-4 focus:left-4 bg-blue-600 text-white px-3 py-2 rounded z-50';

        document.body.insertBefore(skipLink, document.body.firstChild);
      }

      handleThemeChange() {
        if (!this.navbar) return;
        this.navbar.style.transition = 'all 0.3s ease-out';
        setTimeout(() => {
          if (this.navbar) this.navbar.style.transition = '';
        }, 300);
      }

      handleResize() {
        if (window.innerWidth >= 768 && this.isMenuOpen) {
          this.toggleMobileMenu();
        }
      }

      setupLanguageSwitch() {
        this.langToggle = document.getElementById('lang-toggle');
        this.langLabels = document.querySelectorAll('.lang-label');

        const savedLang = this.safeGetStoredLang();
        this.currentLang = savedLang || 'en';
        this.applyLanguage(this.currentLang);

        this.langToggle?.addEventListener('click', () => {
          this.toggleLanguage();
        });

        this.langLabels?.forEach((label) => {
          label.addEventListener('click', () => {
            const lang = label.getAttribute('data-lang');
            if ((lang === 'en' || lang === 'es') && lang !== this.currentLang) {
              this.currentLang = lang;
              this.applyLanguage(this.currentLang);
              this.safeStoreLang(this.currentLang);
              window.dispatchEvent(
                new CustomEvent('languageChanged', {
                  detail: { lang: this.currentLang },
                })
              );
            }
          });
        });
      }

      toggleLanguage() {
        this.currentLang = this.currentLang === 'es' ? 'en' : 'es';
        this.applyLanguage(this.currentLang);
        this.safeStoreLang(this.currentLang);

        this.triggerHapticFeedback();

        window.dispatchEvent(
          new CustomEvent('languageChanged', {
            detail: { lang: this.currentLang },
          })
        );
      }

      safeGetStoredLang() {
        try {
          const stored = window?.localStorage?.getItem('preferredLang');
          return stored === 'en' || stored === 'es' ? stored : null;
        } catch (err) {
          console.warn('LocalStorage unavailable, defaulting to en', err);
          return null;
        }
      }

      safeStoreLang(lang) {
        try {
          window?.localStorage?.setItem('preferredLang', lang);
        } catch (err) {
          console.warn('Could not persist language preference', err);
        }
      }

      applyLanguage(lang) {
        if (this.langToggle) {
          this.langToggle.classList.toggle('es', lang === 'es');
          this.langToggle.setAttribute('data-lang', lang);
        }

        this.langLabels?.forEach((label) => {
          const labelLang = label.getAttribute('data-lang');
          label.classList.toggle('active', labelLang === lang);
        });

        document.documentElement.setAttribute('lang', lang);
        this.translateContent(lang);
      }

      translateContent(lang) {
        const translations = {
          'nav-home': { en: 'Home', es: 'Inicio' },
          'nav-skills': { en: 'Skills', es: 'Habilidades' },
          'nav-projects': { en: 'Projects', es: 'Proyectos' },
          'nav-contact': { en: 'Contact', es: 'Contacto' },
        };

        const softSkillsTranslations = {
          'skill-communication': { en: 'Effective<br>Communication', es: 'Comunicaci√≥n<br>Efectiva' },
          'skill-teamwork': { en: 'Teamwork', es: 'Trabajo en Equipo' },
          'skill-collaboration': { en: 'Collaboration', es: 'Colaboraci√≥n' },
          'skill-problem-solving': { en: 'Problem-Solving', es: 'Resoluci√≥n de<br>Problemas' },
          'skill-critical-thinking': { en: 'Critical<br>Thinking', es: 'Pensamiento<br>Cr√≠tico' },
          'skill-adaptability': { en: 'Adaptability', es: 'Adaptabilidad' },
          'skill-continuous-learning': { en: 'Continuous<br>Learning', es: 'Aprendizaje<br>Continuo' },
          'skill-time-management': { en: 'Time<br>Management', es: 'Gesti√≥n del<br>Tiempo' },
          'skill-attention-detail': { en: 'Attention to Detail', es: 'Atenci√≥n al Detalle' },
          'skill-proactivity': { en: 'Proactivity', es: 'Proactividad' },
          'skill-resilience': { en: 'Resilience', es: 'Resiliencia' },
        };

        const navTexts = document.querySelectorAll('.nav-text, .mobile-nav-text');
        navTexts.forEach((textEl) => {
          const parent = textEl.closest('[data-track]');
          if (!(parent instanceof HTMLElement)) return;
          const key = parent.getAttribute('data-track');
          if (key && translations[key]) {
            textEl.textContent = translations[key][lang];
          }
        });

        const translatableElements = document.querySelectorAll('[data-i18n]');
        translatableElements.forEach((el) => {
          const key = el.getAttribute('data-i18n');
          if (!key) return;

          if (softSkillsTranslations[key]) {
            el.innerHTML = softSkillsTranslations[key][lang];
            return;
          }

          const translation = el.getAttribute(`data-i18n-${lang}`);
          if (translation) {
            el.textContent = translation;
          }
        });
      }

      destroy() {
        this.resizeObserver?.disconnect();
        if (this.scrollTimeout) {
          clearTimeout(this.scrollTimeout);
        }
      }
    }

    new NavbarController();
  })();
</script>
